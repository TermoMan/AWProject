<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
  <script src="../../scripts/scripts.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous" />
  <link rel="stylesheet" type="text/css" href="/css/viewItemDetails.css" />
  
  <!-- <link rel="shortcut icon" type=”image/png” href="/img/favicon.png"/> -->
  <title>Collectio - Elemento</title>
</head>

<body class="bg-dark">
  <!--Cabecera -->
  <%- include('header', { pageName: ''}) %>
  <!--Contenido de la página-->
  <main>
    <div class="container-md">
      <div class="row">
        <div class="col-md-12">
          <% if(item.userCollection || (!item.userCollection && !item.colpriv && !item.itempriv )){ %>
            <h2 class="titulo">Detalles del elemento "<%= item.item.name %>" :</h2>
            <div class="row d-flex align-items-center">

              <div class="col-md-4">
                <% if(item.item.description !==null){ %>
                  <!--Mostrar descripcion-->
                  <p id="descripcion">
                    <%= item.item.description %>
                  </p>
                <%} else { %>
                  <p>El elemento no tiene descripción</p>
                <% } %>
              </div>
              
              <div class="col-md-4">
                <% if(item.item.privat == 1) { %>
                  <!--Mostrar descripcion-->
                  <p>
                   Elemento privado
                  </p>
                <% } else { %>
                  <p>Elemento público</p>
                <% } %>
              </div>

              <div class="col-md-4">
                <% if(item.item.images.length != 0){ %>
                  <!--Mostrar imagenes-->
                  <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">

                    <div class="carousel-inner">
                      <div class="carousel-item active">
                        <img class="d-block w-100" src="/collections/getItemImage/<%= item.item.images[0] %>" alt="First slide">
                      </div>

                      <% item.item.images.shift(); item.item.images.forEach(function(img) { %>
                        <div class="carousel-item">
                          <img class="d-block w-100" src="/collections/getItemImage/<%= img %>" alt="Second slide">
                        </div>
                      <% }); %>

                    </div>
                    <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
                      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                      <span class="sr-only"></span>
                    </a>
                    <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
                      <span class="carousel-control-next-icon" aria-hidden="true"></span>
                      <span class="sr-only"></span>
                    </a>
                  </div>

                  <% } else { %>
                    <p>El elemento no tiene imágenes</p>
                  <% } %>
              </div>
            </div>
          <% }else { %>
            <% if(item.colpriv) { %>
              <div class="alert alert-dark" role="alert">
                No tienes acceso a esta colección.
              </div>
            <% }else { %>
              <div class="alert alert-dark" role="alert">
                No tienes acceso a este elemento.
              </div>
            <% } %> 
          <% } %>
          
        </div>
      </div>
      
      
    </div>
  </main>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" crossorigin="anonymous">
    </script>
</body>

</html>